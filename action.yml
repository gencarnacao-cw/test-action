# action.yml
name: 'GitHub Action Peeker'
description: 'Peek into the env passed to action'
runs:
  using: 'composite'
  steps:
    - name: check-pr-title-for-jira-issue
      run: |
        PR_URL=$(echo $GITHUB_CONTEXT | jq -r ".event.pull_request.title")
        if [ -z "$PR_TITLE" ]; then
            echo "Found Jira issue ID: $(echo $PR_TITLE | grep -o "GRUB-\d*")
        else
            echo "::Error: No Jira issue ID found!
            exit 1
        fi
      shell: bash